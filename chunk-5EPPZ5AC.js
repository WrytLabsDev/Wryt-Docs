import{a as G,b as J,c as K}from"./chunk-S5XGJSOP.js";import{a as Y}from"./chunk-MSGZ3ESF.js";import{$a as T,A as g,Da as y,E as L,Fa as _,H as b,I as C,Ja as E,Ka as $,L as v,La as S,M as O,Oa as a,Pa as R,Qa as B,T as j,Ua as P,Va as D,W as z,Wa as I,Y as m,ba as F,f as d,fb as U,gb as A,hb as H,i as V,kb as q,la as f,ma as x,mb as N,na as u,pb as W,ra as k,s as p,sa as r,ta as i,ua as M,ya as Q}from"./chunk-OSCGBTAL.js";import"./chunk-FDERIQAA.js";var X=(()=>{class n{http;manifestService;constructor(t,e){this.http=t,this.manifestService=e}load(t){return this.manifestService.getPackage(t).pipe(g(e=>{if(!e)throw new Error(`Package ${t} not found`);let o=T()?"/assets/docs":`${window.location.pathname.replace(/\/$/,"")}/assets/docs`;return this.http.get(`${o}/${e.path}`,{responseType:"text"}).pipe(p(()=>d(`# Documentation Missing

Could not load documentation for ${t}`)))}))}getRawContent(t){return this.manifestService.getPackage(t).pipe(g(e=>{if(!e)throw new Error(`Package ${t} not found`);let o=T()?"/assets/docs":`${window.location.pathname.replace(/\/$/,"")}/assets/docs`;return this.http.get(`${o}/${e.path}`,{responseType:"text"})}),p(()=>d("")))}static \u0275fac=function(e){return new(e||n)(b(q),b(Y))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tt=["markdownContent"],et=["tocContainer"];function nt(n,l){if(n&1){let t=Q();M(0,"markdown",5,0),r(2,"div",6)(3,"p"),a(4,"Was this documentation helpful?"),i(),r(5,"div",7)(6,"button",8),y("click",function(){v(t);let o=_();return O(o.sendFeedback(!0))}),a(7,"Yes"),i(),r(8,"button",8),y("click",function(){v(t);let o=_();return O(o.sendFeedback(!1))}),a(9,"No"),i()()(),r(10,"div",9)(11,"div",10),a(12),P(13,"date"),i(),r(14,"div",11)(15,"a",12),a(16,"Edit this page"),i()()()}if(n&2){let t=_();k("data",l),m(12),B(" Last updated: ",I(13,3,t.lastUpdated,"mediumDate")," "),m(3),k("href",t.editUrl,z)}}function ot(n,l){n&1&&(r(0,"div",13)(1,"h2"),a(2,"Error Loading Documentation"),i(),r(3,"p"),a(4),i()()),n&2&&(m(4),R(l))}function it(n,l){n&1&&(r(0,"div",14),M(1,"div",15),r(2,"p"),a(3,"Loading documentation..."),i()())}function rt(n,l){if(n&1&&(f(0,ot,5,1,"div",13),P(1,"async"),x(2,it,4,0,"div",14)),n&2){let t,e=_();u((t=D(1,1,e.error$))?0:2,t)}}function ct(n,l){n&1&&(r(0,"aside",4)(1,"div",16)(2,"h3"),a(3,"On this page"),i()(),M(4,"div",17,1),i())}var Et=(()=>{class n{route=C(W);markdownLoader=C(X);title=C(N);seoService=C(K);markdownContent;packageId$=this.route.paramMap.pipe(V(t=>t.get("packageId")||"core"));content$=this.packageId$.pipe(g(t=>t?this.markdownLoader.load(t):d("")),p(t=>(this.error$=d(t.message),d(""))));error$=d("");lastUpdated=new Date;showToc=!0;editUrl="";tocContainer;ngAfterViewInit(){this.content$.subscribe(()=>{setTimeout(()=>this.generateToc(),0)})}generateToc(){if(!this.markdownContent||!this.tocContainer)return;let t=this.markdownContent.nativeElement.querySelectorAll("h2, h3"),e=document.createElement("ul"),o=window.location.pathname;t.forEach(s=>{s.id||(s.id=s.textContent?.trim().toLowerCase().replace(/\s+/g,"-")||"");let h=document.createElement("li");h.classList.add(`toc-${s.tagName.toLowerCase()}`);let w=document.createElement("a");w.href=`${o}#${s.id}`,w.textContent=s.textContent||"",h.appendChild(w),e.appendChild(h)});let c=this.tocContainer.nativeElement;c.innerHTML="",c.appendChild(e)}sendFeedback(t){console.log(`Feedback: ${t?"Helpful":"Not helpful"}`)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-doc-viewer"]],viewQuery:function(e,o){if(e&1&&(E(tt,5,j),E(et,5)),e&2){let c;$(c=S())&&(o.markdownContent=c.first),$(c=S())&&(o.tocContainer=c.first)}},decls:6,vars:4,consts:[["markdownContent",""],["tocContainer",""],[1,"documentation"],[1,"markdown-container"],[1,"toc-container"],[3,"data"],[1,"feedback-section"],[1,"feedback-buttons"],[3,"click"],[1,"page-meta"],[1,"last-updated"],[1,"contribute-link"],["target","_blank",3,"href"],[1,"error"],[1,"loading"],[1,"spinner"],[1,"toc-header"],[1,"toc-content"]],template:function(e,o){if(e&1&&(r(0,"article",2)(1,"div",3),f(2,nt,17,6),P(3,"async"),x(4,rt,3,3),i(),f(5,ct,6,0,"aside",4),i()),e&2){let c;m(2),u((c=D(3,2,o.content$))?2:4,c),m(3),u(o.showToc?5:-1)}},dependencies:[H,J,G,U,A],styles:[".documentation[_ngcontent-%COMP%]{display:flex;gap:2rem}.markdown-container[_ngcontent-%COMP%]{flex:1;max-width:800px}.markdown-container[_ngcontent-%COMP%]   .feedback-section[_ngcontent-%COMP%]{margin:3rem 0;padding:1.5rem;background:var(--feedback-bg);border-radius:8px;border-left:4px solid var(--feedback-border)}.markdown-container[_ngcontent-%COMP%]   .feedback-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;font-weight:500;color:var(--text-primary)}.markdown-container[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.markdown-container[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1.5rem;background:var(--button-bg);border:none;border-radius:4px;cursor:pointer;transition:background .2s;color:var(--text-primary)}.markdown-container[_ngcontent-%COMP%]   .feedback-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--button-hover)}.markdown-container[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:3rem;padding-top:1rem;border-top:1px solid var(--meta-border);font-size:.9rem;color:var(--text-secondary)}.markdown-container[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--link-color);text-decoration:none}.markdown-container[_ngcontent-%COMP%]   .page-meta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.toc-container[_ngcontent-%COMP%]{width:250px;position:sticky;top:100px;max-height:calc(100vh - 120px);overflow-y:auto;align-self:flex-start;background:var(--card-bg);border-left:1px solid var(--border-color);border-radius:0 4px 4px 0;padding:1rem;transition:background .3s ease,border-color .3s ease}.toc-container[_ngcontent-%COMP%]   .toc-header[_ngcontent-%COMP%]{padding-bottom:.5rem;border-bottom:1px solid var(--border-color);margin-bottom:1rem}.toc-container[_ngcontent-%COMP%]   .toc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:var(--text-primary)}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]{font-size:.9rem}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;padding-left:1rem;border-left:2px solid var(--toc-border-color);transition:border-color .3s ease}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;transition:color .2s;display:block;padding:.25rem 0}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--link-color)}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-left-color:var(--toc-active-border)}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--link-color);font-weight:500}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   li.toc-h1[_ngcontent-%COMP%]{padding-left:0;font-weight:600}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   li.toc-h2[_ngcontent-%COMP%]{padding-left:1rem;font-weight:500;font-size:.95rem}.toc-container[_ngcontent-%COMP%]   .toc-content[_ngcontent-%COMP%]   li.toc-h3[_ngcontent-%COMP%]{padding-left:2rem;font-weight:400;font-size:.9rem}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--spinner-border);border-top:4px solid var(--spinner-top);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:1rem}"]})}return n})();export{Et as DocViewerComponent};
